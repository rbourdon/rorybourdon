import { motion } from "framer-motion";
import { useContext } from "react";
import styled, { ThemeContext } from "styled-components";

const Container = styled(motion.div)`
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: ${(props) => props.$zIndex};
  margin: ${(props) => props.$margin};
  pointer-events: none;
  user-select: none;
`;

const trunkV = {
  hidden: {
    x: 175,
    scale: 0,
    originY: 1,
  },
  visible: {
    x: 0,
    scale: 1,
    originY: 1,
    transition: {
      ease: "easeInOut",
      duration: 0.8,
      delay: 0.15,
      x: {
        ease: "easeInOut",
        duration: 1.3,
        delay: 0,
      },
    },
  },
  selected: {
    scale: 1,
    originY: 1,
    transition: { duration: 0 },
  },
};

const foliageV = {
  hidden: {
    x: 175,
    scale: 0,
    originY: 1,
  },
  visible: {
    x: 0,
    scale: 1,
    originY: 1,
    transition: {
      ease: "easeInOut",
      duration: 1.05,
      delay: 0.15,
      x: {
        ease: "easeInOut",
        duration: 1.3,
        delay: 0,
      },
    },
  },
  selected: {
    scale: 1,
    transition: { duration: 0 },
  },
};

const manV = {
  hidden: { x: -330, y: 90 },
  visible: (custom) => ({ x: custom ? -330 : 0, y: custom ? 90 : 0 }),
  selected: (custom) => ({ x: custom ? -330 : 0, y: custom ? 90 : 0 }),
};

const blobV = {
  hidden: { x: -340, y: 70, rotate: 100, scale: 0.5 },
  visible: (custom) => ({
    scale: custom ? 0.5 : 1,
    x: custom ? -340 : 0,
    y: custom ? 70 : 0,
    rotate: custom ? 100 : 0,
  }),
  selected: (custom) => ({
    scale: custom ? 0.5 : 1,
    x: custom ? -340 : 0,
    y: custom ? 70 : 0,
    rotate: custom ? 100 : 0,
  }),
};

const socialIconV = {
  hidden: (custom) => ({ x: custom.x, y: custom.y }),
  visible: (custom) => ({
    x: custom.collapsed ? custom.x : 0,
    y: custom.collapsed ? custom.y : 0,
  }),
  selected: (custom) => ({
    x: custom.collapsed ? custom.x : 0,
    y: custom.collapsed ? custom.y : 0,
  }),
};

const groundV = {
  hidden: { scaleX: 0 },
  visible: { scaleX: 1 },
  selected: { scaleX: 1 },
};

const boxV = {
  hidden: { x: 200, opacity: 0 },
  visible: {
    x: 0,
    opacity: 1,
    transition: {
      type: "spring",
      duration: 1.5,
      delay: 0.5,
    },
  },
  selected: { x: 0, opacity: 1 },
};

const bushV = {
  hidden: {
    x: 155,
    scale: 0,
    originY: 1,
  },
  visible: {
    x: 0,
    scale: 1,
    originY: 1,
    transition: {
      ease: "easeInOut",
      duration: 0.7,
      delay: 0.25,
      x: {
        ease: "easeInOut",
        duration: 1.1,
        delay: 0.25,
      },
    },
  },
  selected: {
    scale: 1,
    originY: 1,
    transition: { duration: 0 },
  },
};

export default function SocialsSceneIcon({
  margin = "0px",
  zIndex = 1,
  collapsed = true,
  scale = 1,
}) {
  const theme = useContext(ThemeContext);
  return (
    <Container
      $margin={margin}
      $zIndex={zIndex}
      style={{ scale }}
      layoutId="socialSceneIcon"
    >
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 846.02 713.53">
        {/* Bush */}
        {!collapsed && (
          <motion.g variants={bushV}>
            <motion.path
              fill={theme.green}
              d="M93.48 679.88c0 22.46-13.35 30.31-29.83 30.31l-1.14-.01c-.77-.02-1.52-.06-2.27-.1-14.87-1.06-26.42-9.3-26.42-30.2 0-21.63 27.63-48.92 29.7-50.94h.01l.12-.12s29.83 28.59 29.83 51.06Z"
            />
            <motion.path
              fill={theme.primary_verydark}
              d="m62.56 706.75 10.91-15.24-10.93 16.92-.03 1.75c-.77-.02-1.52-.06-2.27-.1l1.18-22.49-.01-.17.02-.03.1-2.13-10.96-16.96 11 15.37.03.45.89-16.98-9.4-17.53 9.51 14.55.93-35.22v-.12.12l-.15 27.77 9.34-11.01-9.38 13.4-.25 15.2 8.73-14.59-8.77 16.83-.13 8.46 12.66-20.31-12.71 23.26Z"
            />
          </motion.g>
        )}
        {/* Blob */}
        <motion.path
          variants={blobV}
          custom={collapsed}
          fill={theme.primary_light}
          d="M733.1 394.39c0 176.18-80 315.16-178.5 319-128.47 5-296.37-123.09-178.5-319 90.8-150.97 79.9-319 178.5-319s178.5 142.82 178.5 319Z"
        />
        {/* Box */}
        {!collapsed && (
          <motion.path
            variants={boxV}
            fill={theme.primary_slightlydark}
            d="M374.95 488.05h254.51v221.02H374.95z"
          />
        )}
        {/* Ground */}
        {!collapsed && (
          <motion.path
            variants={groundV}
            fill="none"
            stroke={theme.primary_slightlydark}
            strokeMiterlimit="10"
            strokeWidth="2"
            d="M0 709.07h846.02"
          />
        )}
        <motion.g fill={theme.primary_verydark}>
          {/* Pinterest */}
          <motion.path
            variants={socialIconV}
            custom={{ collapsed: collapsed, x: -150, y: 440 }}
            d="M558.72 0a24.37 24.37 0 0 0-9.78 46.69 21.58 21.58 0 0 1 .42-5.6l3.14-13.28a9.3 9.3 0 0 1-.79-3.85c0-3.6 2.1-6.3 4.7-6.3 2.22 0 3.29 1.66 3.29 3.65 0 2.23-1.43 5.56-2.16 8.65a3.77 3.77 0 0 0 3.85 4.69c4.62 0 7.73-5.93 7.73-12.96 0-5.34-3.6-9.33-10.14-9.33a11.55 11.55 0 0 0-12 11.67 7.02 7.02 0 0 0 1.61 4.77 1.2 1.2 0 0 1 .35 1.36l-.5 1.96a.84.84 0 0 1-1.22.61c-3.4-1.4-5-5.11-5-9.31 0-6.92 5.85-15.22 17.42-15.22 9.3 0 15.43 6.74 15.43 13.96 0 9.56-5.32 16.7-13.15 16.7-2.64 0-5.1-1.43-5.95-3.04 0 0-1.42 5.61-1.72 6.7a20.25 20.25 0 0 1-2.45 5.22A24.37 24.37 0 1 0 558.72 0Z"
          />
          {/* Twitter */}
          <motion.path
            variants={socialIconV}
            custom={{ collapsed: collapsed, x: -400, y: 150 }}
            d="M799.28 176.22a21.3 21.3 0 0 1-6.05 1.67 10.57 10.57 0 0 0 4.63-5.83 20.93 20.93 0 0 1-6.69 2.55 10.53 10.53 0 0 0-18.22 7.2 10.31 10.31 0 0 0 .27 2.4 29.85 29.85 0 0 1-21.7-11.01 10.55 10.55 0 0 0 3.27 14.07 10.29 10.29 0 0 1-4.79-1.31v.13a10.54 10.54 0 0 0 8.45 10.33 10.6 10.6 0 0 1-2.77.37 9.94 9.94 0 0 1-1.98-.2 10.55 10.55 0 0 0 9.84 7.33 21.12 21.12 0 0 1-13.08 4.51 21.35 21.35 0 0 1-2.52-.15 29.44 29.44 0 0 0 16.13 4.76c19.39 0 29.99-16.06 29.99-30 0-.45-.02-.91-.04-1.36a21.44 21.44 0 0 0 5.26-5.46Z"
          />
          {/* Facebook */}
          <motion.path
            variants={socialIconV}
            custom={{ collapsed: collapsed, x: 300, y: 400 }}
            d="M393.92 31.02h-37.16a2.3 2.3 0 0 0-2.3 2.3v37.16a2.3 2.3 0 0 0 2.3 2.3h18.58V56.26h-4.99v-6.09h5v-4.5c0-5.4 3.74-8.33 8.55-8.33 2.31 0 4.79.17 5.37.25v5.63h-3.84c-2.62 0-3.13 1.24-3.13 3.07v3.88h6.25l-.82 6.1h-5.42V72.8h11.61a2.3 2.3 0 0 0 2.3-2.3V33.31a2.3 2.3 0 0 0-2.3-2.3Z"
          />
          {/* Instagram */}
          <motion.g
            variants={socialIconV}
            custom={{ collapsed: collapsed, x: 100, y: 140 }}
          >
            <path d="M398.6 185.7a8.73 8.73 0 0 1 8.71 8.7v17.4a8.73 8.73 0 0 1-8.7 8.7h-17.4a8.73 8.73 0 0 1-8.7-8.7v-17.4a8.73 8.73 0 0 1 8.7-8.7h17.4m0-3.49h-17.4a12.22 12.22 0 0 0-12.19 12.18v17.4A12.22 12.22 0 0 0 381.2 224h17.4a12.22 12.22 0 0 0 12.2-12.2v-17.4a12.22 12.22 0 0 0-12.2-12.18Z" />
            <path d="M401.22 194.4a2.61 2.61 0 1 1 2.6-2.62 2.6 2.6 0 0 1-2.6 2.61Zm-11.31 1.74a6.96 6.96 0 1 1-6.97 6.96 6.97 6.97 0 0 1 6.97-6.96m0-3.49a10.44 10.44 0 1 0 10.44 10.45 10.45 10.45 0 0 0-10.44-10.45Z" />
          </motion.g>
          {/* LinkedIn */}
          <motion.path
            variants={socialIconV}
            custom={{ collapsed: collapsed, x: -120, y: 390 }}
            d="M702.58 10.51h-34.85a3.4 3.4 0 0 0-3.57 3.26v34.92a3.67 3.67 0 0 0 3.57 3.58h34.84a3.49 3.49 0 0 0 3.35-3.58V13.77a3.2 3.2 0 0 0-3.34-3.26Zm-25.47 34.81h-5.98v-18.6h5.98Zm-2.79-21.43h-.04a3.25 3.25 0 1 1 .04 0Zm24.65 21.43H693V35.15c0-2.44-.87-4.1-3.04-4.1a3.27 3.27 0 0 0-3.06 2.2 4.03 4.03 0 0 0-.2 1.48v10.6h-6v-18.6h6v2.58a6.06 6.06 0 0 1 5.39-3.02c3.92 0 6.9 2.58 6.9 8.16Z"
          />
          {/* Github */}
          <motion.g
            variants={socialIconV}
            custom={{ collapsed: collapsed, x: -150, y: 230 }}
          >
            <path
              d="M788.83,51.37a24.63,24.63,0,0,0-7.79,48c1.23.23,1.69-.54,1.69-1.19s0-2.52,0-4.58c-6.85,1.49-8.29-2.91-8.29-2.91-1.13-2.85-2.74-3.6-2.74-3.6-2.23-1.53.17-1.5.17-1.5a5.16,5.16,0,0,1,3.77,2.54c2.2,3.76,5.77,2.67,7.17,2.05a5.22,5.22,0,0,1,1.57-3.3c-5.48-.62-11.23-2.73-11.23-12.17a9.55,9.55,0,0,1,2.54-6.61,8.88,8.88,0,0,1,.24-6.52s2.07-.66,6.77,2.53a23.35,23.35,0,0,1,12.34,0c4.7-3.19,6.77-2.53,6.77-2.53A8.88,8.88,0,0,1,802,68.1a9.49,9.49,0,0,1,2.53,6.61c0,9.46-5.76,11.54-11.24,12.15A5.92,5.92,0,0,1,795,91.42c0,3.3,0,6,0,6.76,0,.66.44,1.43,1.69,1.18a24.63,24.63,0,0,0-7.8-48Z"
              fillRule="evenodd"
            />
            <path d="M773.53,86.73a.31.31,0,0,1-.42.07c-.18-.08-.28-.24-.22-.37s.24-.16.42-.07.28.25.22.37Z" />
            <path d="M774.53,87.84c-.12.11-.35.06-.51-.11a.37.37,0,0,1-.07-.51c.12-.11.35-.06.51.11a.37.37,0,0,1,.07.51Z" />
            <path d="M775.5,89.26c-.15.11-.4,0-.55-.21a.44.44,0,0,1,0-.59c.15-.1.4,0,.55.21a.44.44,0,0,1,0,.59Z" />
            <path d="M776.83,90.63c-.14.15-.42.11-.64-.09a.49.49,0,0,1-.14-.63.47.47,0,0,1,.64.09c.22.2.28.48.14.63Z" />
            <path d="M778.66,91.43c-.06.19-.33.28-.61.2s-.46-.31-.41-.51a.48.48,0,0,1,.62-.2c.28.09.46.31.4.51Z" />
            <path d="M780.68,91.57c0,.21-.23.38-.52.38s-.54-.16-.54-.36.23-.37.53-.37.53.15.53.35Z" />
            <path d="M782.55,91.26c0,.19-.16.4-.45.45s-.56-.07-.59-.27.17-.4.46-.45.55.06.58.27Z" />
          </motion.g>
        </motion.g>
        <motion.g variants={manV} custom={collapsed}>
          {/* Jacket Hood */}
          <path
            fill="#37373f"
            d="M537.45 268.12s42.34 1.15 49.34 3.7 10.12 20.73 10.12 20.73l-32.88 10.34-24.6-1.4-18.5 1.31 10.33-27.06Z"
          />
          {/* Neck */}
          <path
            fill="#ad8077"
            d="M539.27 254.22s2.79 10.76-3.4 18.38 26.59 34.77 26.59 34.77l17.28-2.97s-3.8-33.06 1.31-41.43-41.78-8.75-41.78-8.75Z"
          />
          <path
            d="M539.27 254.22s2.79 10.76-3.4 18.38 26.59 34.77 26.59 34.77l17.28-2.97s-3.8-33.06 1.31-41.43-41.78-8.75-41.78-8.75Z"
            opacity=".1"
          />
          {/* Left Ankle */}
          <path
            fill="#ad8077"
            d="m654.23 568.84-38.14 50.58 26.03 15.2 35.82-58.61-23.71-7.17z"
          />
          {/* Left Shoe */}
          <path
            fill="#37373f"
            d="M627.48 620.27s-14.05-16.32-13.42-12.68-10 34.5-.11 37.49 94.6 10.9 95.76 1.33-25.27-16.26-25.27-16.26-15.71-15.1-19.2-13.56-37.76 3.68-37.76 3.68Z"
          />
          {/* Right Ankle */}
          <path
            fill="#ad8077"
            d="m645.67 617.14 30.47 51.9 23-13.31-30.72-42.49-22.75 3.9z"
          />
          {/* Pants */}
          <path
            fill="#37373f"
            d="m693.76 493.67-9.04 12.8s-43.1 59.86-38.52 64.69 23.64 23.1 33.33 19.56S723.67 526 723.67 526l-8.98-35.92Z"
          />
          <path
            fill="#37373f"
            d="M508.1 481.56s9.65 18.01 34.12 24.11 50.02 18.57 50.93 18.41 3.48-1.54 4.1 2.1 7.34 9.98 7.34 9.98 27.02 91.83 37.34 91.93 31.53-7.3 31.97-10.18-31.6-96.66-31.9-98.48l-3.76-21.83s42.37 6.76 46.32 7.96S723.67 526 723.67 526s35.84-25.83 2.32-51.91-91.14-45.22-91.14-45.22l-20.66-5.82-18.02-1.07-2.65-10.17-42.66 2.46-44.52 18.9Z"
          />
          {/* Head */}
          <circle cx="564.4" cy="242.41" r="33.23" fill="#ad8077" />
          {/* Shirt */}
          <path
            fill="#d0cde1"
            d="m534.34 269.12 4-.69s7.22 27.8 29.55 32.39c0 0 11.02-13.2 10.55-15.43s8.72-14.1 13.61-7.46-1.2 123.84 2.92 125.95 12.92 4.33 5.83 12.1-35.27 18.25-41.51 14.64-19-34.2-24.5-44.5-14.35-45.3-14.35-45.3-11.27-38.34-4.34-47.02 18.24-24.68 18.24-24.68Z"
          />
          {/* Jacket */}
          <path
            fill="#37373f"
            d="M566.14 413.4a189.57 189.57 0 0 1-3.8 24.26c-1.63 6.5-3.53 10.44-5.7 10.27-5.52-.41-8.03 7.7-9.33 17.03-1.38 9.92-1.38 21.22-2.14 25.22-1 5.28-7.43 9.31-20.28 8.13a90.66 90.66 0 0 1-22.35-5.48c-17.35-6.31-16.83-57.46-13.93-95.41 1.77-23.27 4.44-41.58 4.44-41.58s-5.27-15.72-6.95-26.5a35.21 35.21 0 0 1-.5-5.94c.25-9.41 17.43-34.84 27.81-50.68 10.4-15.84 24.57-4.22 24.57-4.22l-4.93 14.89s7.64 11.8 7.7 23.03 18.3 19.33 24.86 24.77c4.12 3.41 4.02 49.01.53 82.2Z"
          />
          <path
            fill="#37373f"
            d="M580.57 273.82s1.2 1.41 6.69.72c6.57-.82 15.61 1.45 17.71 7.73 3.86 11.51 14.72 58.35 14.72 58.35s4.52 53.55 6.55 65.38 1.02 22.3 3.03 28.51-19.79-11.58-27.82-9.27-13.2-27.7-12.18-38.18 1.86-21.86-.93-32.62 2.16-39.24 1.97-45.77-17.7-22.97-9.74-34.85Z"
          />
          {/* Hands */}
          <path
            fill="#ad8077"
            d="M604.09 440.24s35.18 19.2 38.55 46.52-47.06-26.45-47.06-26.45Z"
          />
          <path
            fill="#ad8077"
            d="M624.17 420.87s10.79 54.34 27.58 51.46-9.38-54.59-9.38-54.59Z"
          />
          {/* Right Shoe */}
          <path
            fill="#37373f"
            d="M681.7 657.79s-8.6 9.9-10.74 8.4-7.03 19-2.61 22.93 21.45 10.36 21.63 16.88 45.86 5.23 47.5-1.6-5.74-22.43-10.91-25.3-24.3-29.15-24.3-29.15-14.99 2.2-20.58 7.84Z"
          />
          {/* Arm Shadow */}
          <path
            d="M598.48 473.48c-8.16-5.76-30.94-7.19-51.17-8.52-8.87-.57-17.25-1.12-23.7-2.03-6.2-.86-11.78-6.53-16.74-14.98-7.51-12.8-13.59-32-18.26-50.53 1.77-23.27 4.44-41.58 4.44-41.58s-5.27-15.72-6.95-26.5a14.18 14.18 0 0 1 4.48-4.03c21.46-9.21 41.94 81.42 44.54 95.64.05.23.08.46.11.65 1.27 7.32 14.9 13.58 27.1 16.06 7.53 1.53 14.53 1.63 17.76-.36 8.47-5.2 34.52 15.62 36.5 16.21 1.98.6-6.39 28.27-18.1 19.97Z"
            opacity=".1"
          />
          {/* Arms */}
          <path
            fill="#37373f"
            d="M490.59 319.73s-15.6 7.36-8.75 41.77 20.66 92.93 41.77 95.86 63.14 2.26 74.87 10.54 20.08-19.37 18.1-19.97-28.02-21.4-36.5-16.2-42.81-3.89-44.84-15.71-22.85-105.66-44.65-96.3Z"
          />
          <path
            fill="#37373f"
            d="M602.96 303.22 620.09 343s1.73-.86 3.73 5.35 2.95 11.67 6.46 15.75 19.13 62.28 19.6 65-21.58 12.14-26.5 4.56-20.42-130.43-20.42-130.43Z"
          />
          {/* Hair */}
          <path
            fill="#3d3433"
            d="M545.5 241.95c1.27-.34 1.46-2.03 1.5-3.35.23-7.06 4.48-14.3 11.23-16.35a18.88 18.88 0 0 1 7.96-.44 30.15 30.15 0 0 1 10.78 3.6c1.76.99 3.48 2.18 5.48 2.48 1.32.2 7.02 1.86 8.33 2.1 2.89.5 5.57 3.09 8.34 2.13 2.65-.92 3.23-4.35 3.3-7.15.14-6.39-4.7-15.23-8.97-19.97-3.24-3.6-8.12-5.27-12.89-6.14a85.79 85.79 0 0 0-16.85-1.02c-7.63.13-15.48.72-22.36 4.02s-12.66 9.88-12.99 17.5c-.07 1.6.1 3.19-.04 4.77-.32 3.86-2.37 7.36-3.34 11.11a20.33 20.33 0 0 0 2.84 16.25c2.56 3.76 6.57 7.16 6.42 11.7l5.54-5.73a4.55 4.55 0 0 0 1.35-5.56l-1.96-7.65A6.9 6.9 0 0 1 539 240c2.1-5.2 4.37 2.52 6.5 1.95Z"
          />
        </motion.g>
        {/* Tree */}
        {!collapsed && (
          <>
            <motion.path
              variants={foliageV}
              fill={theme.primary_light}
              d="M292.58 468.93c0 105.95-62.98 142.95-140.68 142.95s-140.68-37-140.68-142.95S151.9 228.2 151.9 228.2 292.58 363 292.58 468.93Z"
            />
            <motion.path
              variants={trunkV}
              fill={theme.primary_verydark}
              d="m146.78 595.67 1.44-88.67 59.96-109.7-59.74 95.79.65-39.87 41.33-79.36-41.16 68.81 1.17-71.71 44.25-63.18-44.07 51.91.73-131.49-4.58 174.06.38-7.18-44.99-68.86 44.27 82.65-4.19 80.08-.13-2.12-51.87-72.47 51.71 79.98-.52 10.01-.09.15.04.82-10.64 203.19h14.21l1.71-104.95 51.58-79.79-51.45 71.9z"
            />
          </>
        )}
      </svg>
    </Container>
  );
}
